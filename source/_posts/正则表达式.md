---
title: ğŸ¤” æ­£åˆ™è¡¨è¾¾å¼
date: 2019-06-10 13:49:51
category: Basic
---
> æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªæè¿°è§„åˆ™çš„è¡¨è¾¾å¼ï¼Œå®ƒå¯ä»¥åŒ¹é…æ¨¡å¼ï¼ŒåŒ¹é…å­—ç¬¦ï¼ŒåŒ¹é…ä½ç½®ï¼Œè¿›è€Œå®ç°æœç´¢å’Œæ›¿æ¢åŠŸèƒ½ã€‚


<br/>
### 1. åŒ¹é…è§„åˆ™
#### 1.1 å•ä¸ªå­—ç¬¦
å•ä¸ªå­—ç¬¦çš„æ˜ å°„å…³ç³»æ˜¯ä¸€å¯¹ä¸€çš„ï¼ŒåŒ¹é…åˆ°çš„å­—ç¬¦åªæœ‰ä¸€ä¸ªã€‚

åŒ¹é…ç±»å‹ | æ­£åˆ™è¡¨è¾¾å¼
---|---:
ç®€å•å­—ç¬¦  | a ï¼ˆåŒ¹é…å­—ç¬¦aï¼‰
ç‰¹æ®Šå­—ç¬¦  | `\*` ï¼ˆåŒ¹é…å­—ç¬¦*ï¼Œç‰¹æ®Šå­—ç¬¦ç”¨\è½¬ä¹‰ï¼‰
æ¢è¡Œç¬¦    | \n      
æ¢é¡µç¬¦   | \f       
å›è½¦ç¬¦   | \r        
ç©ºç™½ç¬¦   | \s        
åˆ¶è¡¨ç¬¦   | \t        
å‚ç›´åˆ¶è¡¨ç¬¦| \v       
å›é€€ç¬¦   | `[\b]`      

<br/>
#### 1.2 åŒºé—´
 *`[]`* æ¥è¡¨ç¤ºé›†åˆï¼Œç”¨ *`-`* æ¥è¡¨ç¤ºå»åŒºé—´èŒƒå›´ï¼Œå°±å¯ä»¥å®ç°ä¸€å¯¹å¤šçš„åŒ¹é…ã€‚
*/[123]/* åŒ¹é…1,2,3ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œ*/[0-9]/* åŒ¹é…0åˆ°9çš„ä»»æ„ä¸€ä¸ªæ•°å­—ï¼Œ*/[a-z]/* åŒ¹é…ä»»æ„ä¸€ä¸ªè‹±æ–‡å°å†™å­—æ¯ã€‚

åŒ¹é…åŒºé—´ | æ­£åˆ™è¡¨è¾¾å¼ | è®°å¿†æ–¹å¼
---|:--:|---:
é›†åˆåŒºé—´                              | [123]  | åŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼Œå¯ä»¥æ˜¯1,2,3ä¹‹ä¸€
é€šé…ç¬¦ï¼Œè¡¨ç¤ºå‡ ä¹ä»»æ„å­—ç¬¦ã€‚æ¢è¡Œç¬¦ã€å›è½¦ç¬¦ã€è¡Œåˆ†éš”ç¬¦å’Œæ®µåˆ†éš”ç¬¦é™¤å¤–ã€‚  | .      | 
å•ä¸ªæ•°å­—ï¼Œ[0-9]                        | \d     | digit
é™¤äº†[0-9]                             | \D     | not digit
åŒ…æ‹¬ä¸‹åˆ’çº¿åœ¨å†…çš„å•ä¸ªå­—ç¬¦[A-Za-z0-9]       | \w     | word
éå•å­—å­—ç¬¦                             | \W      | not word
åŒ¹é…ç©ºç™½ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦å’Œæ¢é¡µç¬¦ | \s | space
åŒ¹é…éç©ºç™½å­—ç¬¦                          | \S      | not space    
åŒ¹é…ä»»æ„å­—ç¬¦                           | [\d\D]ã€[\w\W]ã€[\s\S] | 



<br/>
#### 1.3 é‡è¯
å¤šæ¬¡å¾ªç¯ï¼Œé‡å¤ä¸Šé¢çš„æ­£åˆ™è§„åˆ™ï¼Œå°±å¯ä»¥åŒ¹é…åŒ¹é…å¤šä¸ªå­—ç¬¦ã€‚

ç¬¦å· | é‡å¤æ¬¡æ•° | ä¾‹å­ |  |
---|:--:|:--:|---:
?         | 0æ¬¡æˆ–1æ¬¡     | /colour?/  | åŒ¹é…colouå’Œcolourä¸¤ä¸ªå•è¯
+         | 1æ¬¡æˆ–å¤šæ¬¡     | /color+/   | åŒ¹é…color, colorr, colorrr...
{n}       | åŒºé—´æ¬¡æ•°      | /a{3}/     | è¿ç»­å‡ºç°a 3æ¬¡
{min,max} | minåˆ°maxæ¬¡   | /a{1,2}/   | è¿ç»­å‡ºç°a 1-2æ¬¡
{min,}    | è‡³å°‘minæ¬¡     | /a{1,}/    | è¿ç»­å‡ºç°aè‡³å°‘1æ¬¡
{0, max}  | æœ€å¤šmaxæ¬¡     | /a{0,3}/   | è¿ç»­å‡ºç°aæœ€å¤š3æ¬¡
*         | åŒ¹é…0ä¸ªå­—ç¬¦æˆ–æ— æ•°ä¸ªå­—ç¬¦  | /*/        | ç”¨æ¥è¿‡æ»¤å¯æœ‰å¯æ— çš„å­—ç¬¦ä¸²


<br/>
#### 1.5 ä½ç½®ç¬¦
ä½ç½®æ˜¯ç›¸é‚»å­—ç¬¦ä¹‹é—´çš„ä½ç½®ã€‚
<img src="1.png" style="max-width: 300px">


ç¬¦å· | å«ä¹‰ | ä¾‹å­ |  |
---|:--:|:--:|---:
\b    | å•è¯è¾¹ç•Œ,\wå’Œ\Wä¹‹é—´çš„ä½ç½®,ä¹ŸåŒ…æ‹¬\wå’Œ^,\wå’Œ$ä¹‹é—´çš„ä½ç½®          | /\bcat\b/       | åŒ¹é…catï¼ŒåŒ¹é…ä¸åˆ°scattered
^     | åŒ¹é…å¼€å¤´ï¼Œåœ¨å¤šè¡ŒåŒ¹é…ä¸­åŒ¹é…å¼€å¤´  | /^I am/         | ä»¥I amå¼€å¤´çš„å­—ç¬¦ä¸²
$     | åŒ¹é…ç»“å°¾ï¼Œåœ¨å¤šè¡ŒåŒ¹é…ä¸­åŒ¹é…ç»“å°¾  | /^I am good\.$/ | åŒ¹é…I am goodè¿™ä¸ªå¥å­
(?=p) | pæ˜¯ä¸€ä¸ªå­æ¨¡å¼ï¼Œè¡¨ç¤ºpå‰é¢çš„ä½ç½®  | /(?=l)/g        | æ‰€æœ‰lå‰é¢çš„ä½ç½®
(?!=p)| (?=p)çš„åé¢æ„æ€                     | |

```js
"hello".replace(/^|$/g, '#')              // "#hello#"
"[JS] lesson_01.mp4".replace(/\b/g, '#')  // "[#JS#] #lesson_01#.#mp4#"
"hello".replace(/(?=l)/g, "#")            // "he#l#lo"
"hello".replace(/(?!=l)/g, "#")           // "#h#ell#o#"
```





<br/>
#### 1.4 åˆ†ç»„,å›æº¯å¼•ç”¨
*()* è¡¨ç¤ºä¸€ä¸ªåˆ†ç»„ï¼Œåªæ˜¯ä½¿ç”¨ç®€å•çš„(regex)æœ¬è´¨ä¸Šå’Œä¸åˆ†ç»„æ˜¯ä¸€æ ·çš„ï¼Œè¦å‘æŒ¥å®ƒå¼ºå¤§çš„ä½œç”¨ï¼Œè¦ç»“åˆå›æº¯å¼•ç”¨ã€‚

*`\1, \2....`* è¡¨ç¤ºå¼•ç”¨çš„ç¬¬1,2ä¸ªå­è¡¨è¾¾å¼... *`\0`* è¡¨ç¤ºæ•´ä¸ªè¡¨è¾¾å¼ã€‚**å›æº¯å¼•ç”¨** æŒ‡åé¢å¼•ç”¨å‰é¢å·²ç»åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²ã€‚

*`$1, $2...`* ç”¨äºå¼•ç”¨è¦è¢«æ›¿æ¢çš„å­—ç¬¦ä¸²
```js
var reg = /\b(\w)+\s\1/   // åŒ¹é…ä¸¤ä¸ªè¿ç»­ç›¸åŒçš„å•è¯

var str = 'abc abc 123';
str.replace(/(ab)c/g, '$1g'); // 'abg abg 123'

```
*`$&`* åŒ¹é…å­ä¸²æ–‡æœ¬
```js
// '2,3,5'å˜æˆ'222,333,555'
"2,3,5".replace(/(\d)+/g, $&$&$&);  // 222,333,555

```

*`(?:regex)`*ï¼Œå¦‚æœæˆ‘ä»¬ä¸æƒ³å­è¡¨è¾¾å¼è¢«å¼•ç”¨ï¼Œå¯ä»¥ç”¨**éæ•è·æ­£åˆ™**, è¿™æ ·å¯ä»¥é¿å…æµªè´¹å†…å­˜ã€‚
```js 
var str = 'scq000';
str.replace(/(scq00)(?:0)/, '$1,$2');  // 'scq00,$2'
// ä½¿ç”¨äº†éæ•è·æ­£åˆ™ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªå¼•ç”¨æ²¡æœ‰å€¼ï¼Œè¿™é‡Œç›´æ¥æ›¿æ¢ä¸º$2
```




<br/>
#### 1.5 é€»è¾‘å¤„ç†
é€»è¾‘å…³ç³» | æ­£åˆ™è¡¨è¾¾å¼
---|---:
ä¸  | æ—              
é  | [^regex] å’Œ !  
æˆ–  | &#124;

<br/>
#### 1.6 ä¿®é¥°ç¬¦
ä¿®é¥°ç¬¦æ”¾åœ¨äº†`/regex/img`æ­£åˆ™è¡¨è¾¾å¼çš„æœ€åé¢ã€‚

ä¿®é¥°ç¬¦ | | 
---|:--:
m     | å¤šè¡ŒåŒ¹é… multiline
i     | å¿½ç•¥å¤§å°å†™ ignore       
g     | å…¨å±€åŒ¹é…globalï¼Œ åœ¨ç›®æ ‡å­—ç¬¦ä¸²ä¸­æŒ‰é¡ºåºæ‰¾åˆ°æ»¡è¶³åŒ¹é…æ¨¡å¼çš„æ‰€æœ‰å­ä¸²

```js
var regex = /ab{2,4}c/g
var string = "abc abbc abbbc abbbbc abbbbbc";
console.log(string.match(regex));
// ["abbc", "abbbc", "abbbbc"]
```


<br/>
### 2. æ­£åˆ™è¡¨è¾¾å¼ + JS
æœ‰äº†æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…ï¼Œç»“åˆJS apiï¼Œæˆ‘ä»¬å¯ä»¥å®ŒæˆéªŒè¯ã€åˆ‡åˆ†ã€æå–ã€æ›¿æ¢çš„åŠ¨ä½œã€‚
```js
String.search(regex)
String.split(regex)
String.match(regex)
String.replace(regex, newText)
RegExp.test(string)
RegExp.exec(string)
```


<br/>
#### 2.1 éªŒè¯
åˆ¤æ–­æœ‰æ²¡æœ‰åŒ¹é…ä¸Š
```js 
// åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœ‰æ²¡æœ‰æ•°å­—
var regex = /\d/;
var string = "abc123";

// æœ€å¸¸ç”¨çš„æ˜¯test
console.log(regex.test(string));        // true 
```

<br/>
#### 2.2 åˆ‡åˆ†
æŠŠç›®æ ‡å­—ç¬¦ä¸²ï¼Œåˆ‡æˆä¸€æ®µä¸€æ®µ `string.split(regex)`
```js
// æ—¥æœŸæ ¼å¼åˆ‡é™¤å¹´æœˆæ—¥
var regex = /\D/;
console.log("2017-01-01".split(regex));  // ["2017", "01" "01"]
console.log("2017.01.01".split(regex));  // ["2017", "01" "01"]
console.log("2017/01/01".split(regex));  // ["2017", "01" "01"]


```

<br/>
#### 2.3 æå–
æå–åŒ¹é…åˆ°çš„æ•°æ®
```js
var regex = /^(\d{4})\D(\d{2})\D(\d{2}))$/;
var string = "2017-06-26";
string.match(regex); 
// [$0, $1, $2 ... , index, input]
//  =>["2017-06-26", "2017", "06", "26", index: 0, input: "2017-06-26"]
```

<br/>
#### 2.4 æ›¿æ¢
`string.replace(regex, newtext)`
```js
// å°†yyyy-mm-ddæ›¿æ¢æˆyyyy/mm/dd
var string = "2017-06-26";
var today = new Date( string.replace(/\-/g, "/"))
console.log(today)  // => Mon Jun 26 2017 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
```


<br/>
### 3. åŒ¹é…åŸç†
#### 3.1 å›æº¯
åè¡¥

#### 3.2 æ“ä½œç¬¦ä¼˜å…ˆçº§
ä¼˜å…ˆçº§ä»ä¸Šè‡³ä¸‹ï¼Œç”±é«˜åˆ°ä½
- è½¬ä¹‰ç¬¦ \
- æ‹¬å·å’Œæ–¹æ‹¬å· (...)ã€(?:...)ã€(?=...)ã€(?!...)ã€[...]
- é‡è¯é™å®šç¬¦ {m}ã€{m,n}ã€{m,}ã€?ã€*ã€+
- ä½ç½®å’Œåºåˆ— ^ ã€$ã€ \å…ƒå­—ç¬¦ã€ ä¸€èˆ¬å­—ç¬¦
- ç®¡é“ç¬¦ï¼ˆç«–æ ï¼‰|


#### 3.3 ä¼˜åŒ–æ•ˆç‡
åè¡¥

<br/>
### 4. ä¾‹å­
```js
var regex = /hello/;
regex.test("hello");  
// true


var regex = /ab{1,2}c/g;
"abc abbc abbbc".match(regex); 
// ["abc", "abbc"]


var regex = /a[123]b/g;
"a0b a1b a4b".match(regex); 
// ["a1b"];


// åŒ¹é…2-3ä½æ•°
// ç­›é€‰æ•°ç»„ä¸­çš„ä¸‰ä½æ•° arr.join(" ").match(/d{3}/g)
// è´ªå©ªåŒ¹é…ï¼Œå°½å¯èƒ½å¤šçš„åŒ¹é…
var regex = /\d{2,5}/g;
"123 1234 12356 123456".match(regex);  
// ["123", "1234", "1234", "12345"]


// æƒ°æ€§åŒ¹é…ï¼Œå°½å¯èƒ½å°‘çš„åŒ¹é…
// åœ¨é‡è¯åé¢åŠ ä¸ªé—®å·èƒ½å®ç°æƒ°æ€§åŒ¹é… {m,n}?   {m,}?   ??   +?  *?  
var regex = /\d{2,3}?/g
"123 1234 12356 123456".match(regex);  
// ["12", "12", "34", "12", "34", "12", "34", "56"]


// (p1|p2|p3)åˆ†æ”¯ç»“æ„æ˜¯æƒ°æ€§çš„ï¼Œå‰é¢çš„åŒ¹é…ä¸Šäº†ï¼Œåé¢çš„å°±ä¸å†å°è¯•
var regex = /good|goodbye/g;   // ["good"]
var regex = /goodbye|good/g;   // ["goodbye"]
"goodbye".match(regex);


// åŒ¹é…16è¿›åˆ¶é¢œè‰²å€¼, [0-9a-fA-F]å‡ºç°3æˆ–6æ¬¡
var regex = /#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})/g;;
var string = "#ffbbad #FC01df #fff";  
// ["#ffbbad","#FC01df","#fff"]


// åŒ¹é…æ—¶é—´
var regex = /^([01][0-9]|[2][0-3]):([0-5][0-9])$/;
regex.test("23:59")
// true


// åŒ¹é…æ—¥æœŸ
var regex = /^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/
regex.test("2019-01-02");
// true



// æŠŠyyyy-mm-ddæ ¼å¼æ›¿æ¢æˆmm/dd/yyyy
var regex = /(\d{2})-(\d{2})-(\d{2})/;
"2019-01-02".replace(regex, "$2/$3/$1");
// "01/02/2019"ï¼Œ ç­‰ä»·äº
var result = "2019-01-02".replace(regex, function(match, year, month, day){
  return month + "/" + day + "/" + year;
})


// åŒ¹é…2016-01-02 2016/01/01 2016.01.02ä¸‰ç§æ ¼å¼ï¼Œç¡®ä¿å‰ååˆ†éš”ç¬¦ä¸€è‡´
var regex = /\d{4}(-|/|.)\d{2}\1\d{2}/;
regex.test(string);    // true



// åŒ¹é…windowsæ“ä½œç³»ç»Ÿæ–‡ä»¶è·¯å¾„
var regex = /^[a-zA-Z]:\\([^\\:*<>|"?\r\n/]+\\)*([^\\:*<>|"?\r\n/]+)?$/;
console.log( regex.test("F:\\study\\javascript\\regex\\regular expression.pdf") ); 
console.log( regex.test("F:\\study\\javascript\\regex\\") ); 
console.log( regex.test("F:\\study\\javascript") ); 
console.log( regex.test("F:\\") ); 
// true


// åŒ¹é…idå€¼
var regex = /id=".*"/;      // id="container" class="main"
var regex = /id="[^"]*"/;   // id="container"
var string = '<div id="container" class="main">'


// æ•°å­—åƒåˆ†ä½åˆ†éš”ç¬¦
var regex = /(?!^)(?=(\d{3})+$)/;
"12345678".replace(regex, ',')  // 12,345,678
"123456789".replace(regex, ',') // 123,456,789


// å¯†ç  6-12ä½ å¤šé‡è§„åˆ™åº”æ‹†å¼€å†™
// 1. åŒæ—¶åŒ…å«æ•°å­—å’Œå°å†™å­—æ¯ 
// 2. åŒæ—¶åŒ…å«æ•°å­—å’Œå¤§å†™å­—æ¯ 
// 3. åŒæ—¶åŒ…å«å°å†™å­—æ¯å’Œå¤§å†™å­—æ¯ 
// 4. åŒæ—¶åŒ…å«æ•°å­—ã€å°å†™å­—æ¯å’Œå¤§å†™å­—æ¯
var regex1 = /^[0-9a-z]{6-12}$/
var regex2 = /^[0-9A-Z]{6-12}$/
var regex3 = /^[a-zA-Z]{6-12}$/
var regex4 = /^[0-9a-zA-Z]{6-12}$/


// åŒ¹é…æµ®ç‚¹æ•°
// 10  +10  -10  1.23  +1.23  -1.23  .2  +.2  -.2
var regex = /^[+-]?(\d+|\d+\.\d+|.\d+)$/


// å­—ç¬¦ä¸²trimæ¨¡æ‹Ÿ
function trim(str) {
  return str.replace(/^\s+|\s+$/g, '');
}

// å°†æ¯ä¸ªå•è¯çš„é¦–å­—æ¯è½¬ä¸ºå¤§å†™
function titleize(str) {
  retrun str.toLowerCase().replace(/(?:^|\s)\w/g, function(c){
    return c.toUpperCase();
  })
}
titleize("my name is amy")   // "My Name Is Amy"


// é©¼å³°åŒ– 
// ?çš„ç›®çš„ï¼Œä¸ºäº†åº”å¯¹strå°¾éƒ¨çš„å­—ç¬¦å¯èƒ½ä¸æ˜¯å•è¯å­—ç¬¦ "-moz-transform  "
function camelize(str) {
  return str.replace(/[-_\s]+(.)?/g, function(match, c){
    return c ? c.toUpperCase() : ''
  })
}

// ä¸­åˆ’çº¿åŒ–
function dasherize(str) {
  return str.replace(/([A-Z])/g, '-$1').replace(/[-_/s]+/g, '-').toLowerCase();
}

// htmlè½¬ä¹‰å’Œåè½¬ä¹‰
function unescapeHTML(str) {
  var htmlEntities = {
    lt: '<',
	  gt: '>',
	  nbsp: ' ',
	  cent: 'Â¢',
	  pound: 'Â£',
	  yen: 'Â¥',
	  euro: 'â‚¬',
	  copy: 'Â©',
	  reg: 'Â®',
	  quot: '"',
	  amp: '&',
	  apos: '\''
	}

  return str.replace(/\(&[^;]+);/, function(match, key){
    if (key in htmlEntities) {
      return htmlEntities[key]
    }
    return match;
  })
}
unescapeHTML('&lt;div&gt;Blah blah blah&lt;/div&gt'); // "<div>Blah blah blah</div>"


// ç¬¦åˆ æˆå¯¹æ ‡ç­¾ æ ¼å¼
var regex = /<([^>]+)>[\d\D]*<\/\1>/; 
regex.test("<title>wrong!</p>")


// ä¿è¯åªæœ‰ä¸­æ–‡
var regex = /^[\u4e00-\u9fa5]+$/ig;
regex.test('ä¸­æ–‡') // true
regex.test('ä¸­a') // false



```



<br/>
### 5. æ²¡æœ‰å¿…è¦ç”¨æ­£åˆ™çš„æƒ…å†µ
```js
// ä»æ—¥æœŸä¸­æå–å¹´æœˆæ—¥
"2017-01-02".spilt('-')   // ["2017", "01", "02"]

// åˆ¤æ–­æ˜¯å¦æœ‰é—®å·
"123?123".indexOf('?')   // 3
"123".indexOf('?')       // -1

// è·å–å­ä¸²
"JavaScript".substring(4);
```
<br>
### å‚è€ƒèµ„æ–™
- [æ­£åˆ™è¡¨è¾¾å¼ä¸è¦èƒŒ](https://juejin.im/post/5cdcd42551882568651554e6)
- [JSæ­£åˆ™è¡¨è¾¾å¼å®Œæ•´æ•™ç¨‹ï¼ˆç•¥é•¿ï¼‰](https://juejin.im/post/5965943ff265da6c30653879)
