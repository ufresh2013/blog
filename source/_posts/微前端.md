---
title: 微前端
date: 2019-06-21 10:06:13
category: JS
---
### 1. 微前端是什么
微前端，就是将一个巨无霸的前端工程拆分成一个一个的小工程。它们完全具备独立的开发、运行能力。整个系统就将由这些小工程协同合作，实现所有页面的展示与交互。

<br/>

### 2. 为什么要用微前端
- 打包速度：工程越来越大，打包越来越慢
- 多人多地协作：多人在同一个工程里开发，遭遇代码冲突的概率会很频繁，而且冲突的影响面比较大。
- 测试难度：由于代码都在一个仓库里，每次发布修改都会催生大面积的测试工作

<br/>

### 3.实现微前端
- 路由分发：nginx反向代理，简单快速/完全隔离，但是应用之间切换会有白屏，状态共享困难
- iframe：快速集成，但是通信差、性能差
- 插件机制：Webpack 5 Module Federation（模块联邦），按需加载模块，支持动态更新插件

<br/>

### 4. 注意事项
- *用户登录机制*
将用户的统一登录和认证问题交给了SSO，所有的项目的后端Server都要接入SSO校验登录状态，从而保障业务系统间用户安全认证的一致性。

- *引用公共库*
每一个业务工程都是一个独立的前端工程，所以里面会有一些相同的依赖，如 Vue、moment、lodash 等。如果将这些内容都打包到各自的 vendor.js 里，则势必会导致代码冗余太多，浏览器运行内存压力增大。我们把这些公共依赖、公共组件、CSS、Fonts 等都放到一个工程里，由该工程进行打包，将依赖、组件 export，并以 UMD 的方式注入到全局。







<br/>

### 参考资料
- [微前端实践](https://juejin.im/post/5cadd7835188251b2f3a4bb0)
- [前端微服务整合之‘‘插拔式架构’‘实现方案](https://blog.csdn.net/lizhipeng123321/article/details/81868136)
- [用微前端的方式搭建类单页应用](https://www.cnblogs.com/meituantech/p/9604591.html)
- [实施微前端的六种方式](https://juejin.im/post/5b45d0ea6fb9a04fa42f9f1a)
- [「微前端」- 将微服务理念扩展到前端开发（实践篇）](https://www.jianshu.com/p/1f409df7de45)